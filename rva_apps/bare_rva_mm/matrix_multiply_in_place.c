#include <stdint.h>
//#include<string.h>
#include <stdlib.h>
#include <stddef.h>
#include <stdio.h>
#include "util.h"
#include "dataset_200.h"
#include "rva-fwk.h"
//#include "riscv_test_rocc.h"
//#include "xcustom.h"

int main(int argc, char* argv[])
{
    uint16_t i, j, el;
    uint32_t row = -DIM_SIZE;
    uint32_t column = 0;
    uint16_t b_p;

    //for (i = 0; i < len; i++) {
    
    for (j = 0; j < ARRAY_SIZE; j++) {
        i = j % DIM_SIZE;

        if(i == 0) {
            row += DIM_SIZE;
            b_p = 0;
        }
       
        SET_RVA(buff, DIM_SIZE, A[j], 1);
        MULT_RVA(buff, &B[b_p], buff, DIM_SIZE, 1); 
        ADD_RVA(&C[row], buff, &C[row], DIM_SIZE, 1);
        b_p += DIM_SIZE;
    }
    
    /* 
    for (i = 0; i < ARRAY_SIZE; i++) {
        printf("%d \n", C[i]);
    }
    */
    exit(0);
}

// printf("buff[%u] => %u\n", k, buff[k]);
/*    int A[SIZE][SIZE] = {{1,2,3},
                        {2,3,1},
                        {2,1,2}};

    int B[SIZE][SIZE] = {{1,2,3},
                        {2,3,1},
                        {2,1,2}};

    int C[SIZE][SIZE] = {{0,0,0},
                        {0,0,0},
                        {0,0,0}};

    uint8_t A[SIZE][SIZE] = {{1,2,3,4,5,6,7,8},
                        {1,2,3,4,5,6,7,8},
                        {1,2,3,4,5,6,7,8},
                        {1,2,3,4,5,6,7,8},
                        {1,2,3,4,5,6,7,8},
                        {1,2,3,4,5,6,7,8},
                        {1,2,3,4,5,6,7,8},
                        {1,2,3,4,5,6,7,8}};

    uint8_t B[SIZE][SIZE] = {{1,2,3,4,5,6,7,8},
                        {1,2,3,4,5,6,7,8},
                        {1,2,3,4,5,6,7,8},
                        {1,2,3,4,5,6,7,8},
                        {1,2,3,4,5,6,7,8},
                        {1,2,3,4,5,6,7,8},
                        {1,2,3,4,5,6,7,8},
                        {1,2,3,4,5,6,7,8}};

    uint8_t C[SIZE][SIZE] = {{0,0,0,0,0,0,0,0},
                        {0,0,0,0,0,0,0,0},
                        {0,0,0,0,0,0,0,0},
                        {0,0,0,0,0,0,0,0},
                        {0,0,0,0,0,0,0,0},
                        {0,0,0,0,0,0,0,0},
                        {0,0,0,0,0,0,0,0},
                        {0,0,0,0,0,0,0,0}}
    uint8_t A[SIZE][SIZE] = {{1,2,3,4,5,6,7,8,9,10},
                            {1,2,3,4,5,6,7,8,9,10},
                            {1,2,3,4,5,6,7,8,9,10},
                            {1,2,3,4,5,6,7,8,9,10},
                            {1,2,3,4,5,6,7,8,9,10},
                            {1,2,3,4,5,6,7,8,9,10},
                            {1,2,3,4,5,6,7,8,9,10},
                            {1,2,3,4,5,6,7,8,9,10},
                            {1,2,3,4,5,6,7,8,9,10},
                            {1,2,3,4,5,6,7,8,9,10}};

    uint8_t B[SIZE][SIZE] = {{1,2,3,4,5,6,7,8,9,10},
                            {1,2,3,4,5,6,7,8,9,10},
                            {1,2,3,4,5,6,7,8,9,10},
                            {1,2,3,4,5,6,7,8,9,10},
                            {1,2,3,4,5,6,7,8,9,10},
                            {1,2,3,4,5,6,7,8,9,10},
                            {1,2,3,4,5,6,7,8,9,10},
                            {1,2,3,4,5,6,7,8,9,10},
                            {1,2,3,4,5,6,7,8,9,10},
                            {1,2,3,4,5,6,7,8,9,10}};
  
    uint8_t C[SIZE][SIZE] = {{0,0,0,0,0,0,0,0,0,0},
                            {0,0,0,0,0,0,0,0,0,0},
                            {0,0,0,0,0,0,0,0,0,0},
                            {0,0,0,0,0,0,0,0,0,0},
                            {0,0,0,0,0,0,0,0,0,0},
                            {0,0,0,0,0,0,0,0,0,0},
                            {0,0,0,0,0,0,0,0,0,0},
                            {0,0,0,0,0,0,0,0,0,0},
                            {0,0,0,0,0,0,0,0,0,0},
                            {0,0,0,0,0,0,0,0,0,0}};
*/
